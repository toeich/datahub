package de.jworks.datahub.presentation;

import com.vaadin.annotations.AutoGenerated;
import com.vaadin.ui.Alignment;
import com.vaadin.ui.Button;
import com.vaadin.ui.Button.ClickEvent;
import com.vaadin.ui.Button.ClickListener;
import com.vaadin.ui.CustomComponent;
import com.vaadin.ui.HorizontalLayout;
import com.vaadin.ui.Label;
import com.vaadin.ui.TextField;
import com.vaadin.ui.UI;

public class UserHeader extends CustomComponent {

	/*- VaadinEditorProperties={"grid":"RegularGrid,20","showGrid":true,"snapToGrid":true,"snapToObject":true,"movingGuides":false,"snappingDistance":10} */

	@AutoGenerated
	private HorizontalLayout mainLayout;
	@AutoGenerated
	private TextField searchField;
	@AutoGenerated
	private Button dataflowsButton;
	@AutoGenerated
	private Button datasetsButton;
	@AutoGenerated
	private Button projectsButton;
	@AutoGenerated
	private Label label;
	
	public UserHeader() {
		buildMainLayout();
		setCompositionRoot(mainLayout);

		projectsButton.addClickListener(new ClickListener() {
			@Override
			public void buttonClick(ClickEvent event) {
				UI.getCurrent().getNavigator().navigateTo("projects!");
			}
		});
		
		datasetsButton.addClickListener(new ClickListener() {
			@Override
			public void buttonClick(ClickEvent event) {
				UI.getCurrent().getNavigator().navigateTo("datasetgroups!");
			}
		});
		
		dataflowsButton.addClickListener(new ClickListener() {
			@Override
			public void buttonClick(ClickEvent event) {
				UI.getCurrent().getNavigator().navigateTo("dataflows!");
			}
		});
		
		Messages.translate(this);
	}
	
	@AutoGenerated
	private HorizontalLayout buildMainLayout() {
		// common part: create layout
		mainLayout = new HorizontalLayout();
		mainLayout.setImmediate(false);
		mainLayout.setWidth("100%");
		mainLayout.setHeight("70px");
		mainLayout.setMargin(true);
		mainLayout.setSpacing(true);
		
		// top-level component properties
		setWidth("100.0%");
		setHeight("70px");
		
		// label
		label = new Label();
		label.setStyleName("h1");
		label.setImmediate(false);
		label.setWidth("-1px");
		label.setHeight("-1px");
		label.setValue("Data Hub");
		mainLayout.addComponent(label);
		mainLayout.setExpandRatio(label, 1.0f);
		mainLayout.setComponentAlignment(label, new Alignment(33));
		
		// projectsButton
		projectsButton = new Button();
		projectsButton.setStyleName("link");
		projectsButton.setCaption("Projects");
		projectsButton.setImmediate(true);
		projectsButton.setWidth("-1px");
		projectsButton.setHeight("-1px");
		mainLayout.addComponent(projectsButton);
		mainLayout.setComponentAlignment(projectsButton, new Alignment(48));
		
		// datasetsButton
		datasetsButton = new Button();
		datasetsButton.setStyleName("link");
		datasetsButton.setCaption("Datasets");
		datasetsButton.setImmediate(true);
		datasetsButton.setWidth("-1px");
		datasetsButton.setHeight("-1px");
		mainLayout.addComponent(datasetsButton);
		mainLayout.setComponentAlignment(datasetsButton, new Alignment(48));
		
		// dataflowsButton
		dataflowsButton = new Button();
		dataflowsButton.setStyleName("link");
		dataflowsButton.setCaption("Dataflows");
		dataflowsButton.setImmediate(true);
		dataflowsButton.setWidth("-1px");
		dataflowsButton.setHeight("-1px");
		mainLayout.addComponent(dataflowsButton);
		mainLayout.setComponentAlignment(dataflowsButton, new Alignment(48));
		
		// searchField
		searchField = new TextField();
		searchField.setImmediate(false);
		searchField.setWidth("-1px");
		searchField.setHeight("-1px");
		searchField.setInputPrompt("Search");
		mainLayout.addComponent(searchField);
		mainLayout.setExpandRatio(searchField, 1.0f);
		mainLayout.setComponentAlignment(searchField, new Alignment(34));
		
		return mainLayout;
	}

}
